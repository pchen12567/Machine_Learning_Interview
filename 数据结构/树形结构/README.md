# 树形结构
树形结构是一种日常生活中应用相当广泛的非线性结构，包括企业内的组织结构、家族的族谱、篮球赛程等。
另外，在计算机领域中的操作系统与数据库管理系统都是树形结构。

## 1 树的基本概念
### 树 Tree
- 树是又一个或一个以上的节点(Node)组成的，存在一个特殊的节点，称为树根(Root)。
- 每个节点是一些数据和指针组合而成的记录。
- 除了树根外，其余节点可分为 n >= 0 个互斥的集合，即 $T_1, T_2, T3,...,T_n$，其中每一个子集合本身也是一种树形结构，即此根节点的子树。

一颗合法的树，节点间可以互相连接，但不能形成无出口的回路。

树还可以组成森林(Forest)，也就是说森林是n个互斥树的集合(n >= 0)，移去树根即为森林。

### 1.1 树形结构的专有名词
- 度数(Degree)：每个节点所有子树的个数
- 层数(Level)：树的层数。
- 高度(Height)：树的最大层数。
- 树叶或终端节点(Terminal Nodes)：度数为0的节点就是树叶。
- 父节点(Parent)：每一个节点有连接的上一层节点为父节点。
- 子节点(Children)：每一个节点有连接的下一层节点为子节点。
- 祖先(Ancestor)和子孙(Descendent)：祖先指从树根到该节点路径上所包含的节点，而子孙则是在该节点往下追溯子树中的任一节点。
- 兄弟节点(Siblings)：有共同父节点的节点为兄弟节点。
- 非终端节点(Non-terminal Nodes)：树叶以外的节点。
- 同代(Generation)：在同一棵树中具有相同层数的节点。

## 2 二叉树 Binary Tree
一般树形结构在计算机内存中的存储方式是以链表（Linked List）为主的。

对于n叉树（n-way Tree）来说，因为每个节点的度数都不相同，所以必须为每个节点都预留存放n个链接字段的最大存储空间，
但是这种n叉树十分浪费链接存储空间。

假设此n叉树有m个节点，那么此树共有 n × m 个链接字段。

另外，除了树根外，每一个非空链接都指向一个节点，所以得知空链接个数为：n × m - (m-1) = m × (n-1) + 1，
而n叉树的链接浪费率为$ \frac{m × (n-1) + 1}{m × n} $，可以得到以下结论：
- n = 2时, 2叉树的链接浪费率约为 1/2
- n = 3时, 3叉树的链接浪费率约为 2/3
- n = 4时, 4叉树的链接浪费率约为 3/4
- ...

当n=2时，链接浪费率最低，所以为了改进存储空间浪费的缺点，最常使用二叉树结构来取代其他树形结构。

### 2.1 二叉树的定义
二叉树是一个由有限节点所组成的集合，此集合可以为空集，或由一个树根及其左右两个子树组成。
左右子树是两棵不同的二叉树结构，因为二叉树必须考虑到前后次序关系。

简单说，二叉树最多只能有两个子节点，就是度数小于或等于2。

二叉树和一般树的不同之处为：
- 树不可为空集合，但是二叉树可以
- 树的度数为 d >= 0，但二叉树的节点度数为 0 <= d <= 2
- 树的子树间没有次序关系，二叉树则有

二叉树的性质：
1. **二叉树中，若层数从1开始，层数（Level）为i的节点数最多是 $ 2^{i-1} , (i >= 0)$。**
2. **高度为k的二叉树的总节点数是 $2^k -1$。** <br>
    证明：等比数列求和公式为 $ S_n = a_1 \times \frac{1-q^n}{1-q} $，(q为公比数，且 q != 1) 。<br>
    各层中最大节点数的总和为：$ \sum_{i=1}^k 2^{i-1} = 2^0 + 2^1 +...+ 2^{k-1}$ <br>
    根据等比数列求和公式：$a_1 = 2^0 = 1, q = 2, S_k = 1 \times \frac{1-2^k}{1-2} = 2^k -1$
3. **对任何非空二叉树T，$n_0$为叶子节点数，$n_2$为度数为2的节点数，则 $n_0 = n_2 + 1$。**

### 2.2 特殊二叉树
1. 满二叉树 (Full Binary Tree)<br>
    如果二叉树的高度为h，树的节点数为 $ 2^h - 1, h >= 0 $，就称此树为"满二叉树"。
2. 完全二叉树（Complete Binary Tree）<br>
    如果二叉树的高度为h，所含的节点数小于 $ 2^h - 1 $，但其节点的编号方式如同高度为h的满二叉树一样，
    从左到右、从上到下的顺序一一对应。<br><br>
    即在一棵二叉树中，如果除最后一层外，其余层都是满的，并且最后一层是满的或者是在右边缺少连续若干节点，则此二叉树为完全二叉树。<br><br>
    **对于完全二叉树而言，假设有N个节点，那么此二叉树的层数h为 $ \log_2{N} + 1 $，向上取整。** <br>
    ![](https://github.com/pchen12567/picture_store/blob/master/DataStructure/tree_001.png)
3. 斜二叉树（Skewed Binary Tree）<br>
    当一个二叉树完全没有右节点或左节点时，我们就把它称为左斜二叉树或右斜二叉树。<br>
    ![](https://github.com/pchen12567/picture_store/blob/master/DataStructure/tree_002.png)
4. 严格二叉树（Strict Binary Tree）<br>
    二叉树中的每一个非叶子节点均为有非空的左右子树。